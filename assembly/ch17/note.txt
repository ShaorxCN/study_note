键盘缓冲队列大概流程

按下键位 比如a
引发中断 读出a的扫描码 然后检测状态字节 是否有按下类似shift或者切换了大小写啥的 
发现没有 那就将a的扫描码和ascii对应的写入缓冲队列 低位ascii 高位扫描码

然后继续 比如按下了左shift（没松开）  那么中断检测到了左shift通码那么就设置状态位为1
接下来再按下a 引发中断 发现a的通码 检测状态位 发现按下了左shift 那么对应的ascii时A的ascii
将a的通码和A的ascii写入队列
松开左shift检测到shift的断码 设置状态位为0 接下来再次按a就是简单的小写a了



int 16h从键盘缓冲队列读取一个键盘输入
功能号时0
mov ah,0
int 16h 
扫描码写入ah ascii写入al 队列先入先出

如果缓冲区空 则循环等待

所以16h的流程如下
1.检测缓冲区是否有数据
2.如果没有则回到1
3.读取缓冲区第一个字单元中的键盘输入
4.扫描码送入ah ascii写入al
5.将已经读取的键盘输入从缓冲区中删除



扇区 1开始
磁道 0开始